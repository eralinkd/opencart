<form id="form-category" method="post" data-oc-toggle="ajax" data-oc-load="{{ action }}" data-oc-target="#category">
  <div class="table-responsive">
    <table class="table table-bordered table-hover">
      <thead>
        <tr>
          <th class="text-center" style="width: 1px;" title="Select all categories">
            <input type="checkbox" onclick="$('input[name*=\'selected\']').prop('checked', $(this).prop('checked'));" class="form-check-input"/>
          </th>
          <th class="text-center col-1" title="Category image">
            <span class="d-block mb-1">{{ column_image }}</span>
            <small class="text-muted d-block" style="font-size: 11px; font-weight: normal;">Image</small>
          </th>
          <th title="Category name">
            <span class="d-block mb-1"><a href="{{ sort_name }}"{% if sort == 'name' %} class="{{ order|lower }}"{% endif %}>{{ column_name }}</a></span>
            <small class="text-muted d-block" style="font-size: 11px; font-weight: normal;">Click to sort by name</small>
          </th>
          <th class="text-end" title="Sort order">
            <span class="d-block mb-1"><a href="{{ sort_sort_order }}"{% if sort == 'sort_order' %} class="{{ order|lower }}"{% endif %}>{{ column_sort_order }}</a></span>
            <small class="text-muted d-block" style="font-size: 11px; font-weight: normal;">Display order</small>
          </th>
          <th class="text-end col-1" title="Actions">
            <span class="d-block mb-1">{{ column_action }}</span>
            <small class="text-muted d-block" style="font-size: 11px; font-weight: normal;">Edit category</small>
          </th>
        </tr>
      </thead>
      <tbody>
        {% if categories %}
          {% for category in categories %}
            <tr{% if not category.status %} class="table-active opacity-50"{% endif %}>
              <td class="text-center">
                <input type="checkbox" name="selected[]" value="{{ category.category_id }}" class="form-check-input" title="Select this category"/>
              </td>
              <td class="text-center">
                {% if category.image %}
                  <img src="{{ category.image }}" alt="{{ category.name }}" class="img-thumbnail" style="max-width: 60px; max-height: 60px;" title="Category image: {{ category.name }}"/>
                {% else %}
                  <span class="text-muted" style="font-size: 12px;">No image</span>
                {% endif %}
              </td>
              <td>
                <strong>{{ category.name }}</strong>
                {% if not category.status %}
                  <span class="badge bg-danger ms-2" title="This category is disabled">Disabled</span>
                {% else %}
                  <span class="badge bg-success ms-2" title="This category is enabled">Enabled</span>
                {% endif %}
              </td>
              <td class="text-end">
                <span class="badge bg-secondary" title="Display order: {{ category.sort_order }}">{{ category.sort_order }}</span>
              </td>
              <td class="text-end">
                <a href="{{ category.edit }}" data-bs-toggle="tooltip" title="Edit category: {{ category.name }}" class="btn btn-primary btn-sm">
                  <i class="fa-solid fa-pencil"></i> Edit
                </a>
              </td>
            </tr>
          {% endfor %}
        {% else %}
          <tr>
            <td class="text-center" colspan="5">{{ text_no_results }}</td>
          </tr>
        {% endif %}
      </tbody>
    </table>
  </div>
  <div class="row">
    <div class="col-sm-6 text-start">{{ pagination }}</div>
    <div class="col-sm-6 text-end">{{ results }}</div>
  </div>
</form>

